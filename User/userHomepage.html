<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta charset="UTF-8" />
    <title>KaDugo - Blood Finder</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="userHomepage.css" />
  </head>
  <body>
    <div id="map"></div>
    <!-- NAVIGATION -->
    <div class="navbar">
      <div class="logo-container">
        <img src="images/KaDugo.svg" alt="Vivra Logo" />
      </div>

      <ul class="nav-links">
        <li>
          <a href="#" class="active"><i class="fas fa-tint"></i> Services</a>
        </li>
        <li>
          <a href="#"><i class="fas fa-list"></i> Transactions</a>
        </li>
        <li>
          <a href="#"><i class="fas fa-user"></i> Profile</a>
        </li>
      </ul>

      <button class="hamburger" id="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <ul class="mobile-nav" id="mobileNav">
      <li>
        <a href="#"><i class="fas fa-tint"></i> Services</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-list"></i>Transactions</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-user"></i> My Profile</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a>
      </li>
    </ul>

    <!-- Side Panel -->
    <div id="sidePanel">
      <img id="panelImage" src="" alt="Location" />
      <h3 id="panelTitle">Location Info</h3>
      <p id="panelAddress">Click a marker to see details</p>
      <p id="panelPhone">Click a marker to see details</p>
      <p id="panelAvailability">Click a marker to see details</p>
      <div class="button-container">
        <button class="action-btn btn-donate" id="donorBtn">
          <span class="button-text">Donate Blood</span>
        </button>

        <button class="action-btn btn-request" id="requestBtn">
          <span class="button-text">Request Blood</span>
        </button>
      </div>

      <div class="content-area">
        <!-- Donation Info Section -->
        <div class="info-section active" id="donateInfo">
          <h3>Before You Donate</h3>
          <ul>
            <li>Get a good night's sleep before donating</li>
            <li>Eat a healthy meal before your donation</li>
            <li>Drink plenty of fluids</li>
            <li>Bring your ID and donor card if you have one</li>
            <li>Wear clothing with sleeves that can be raised</li>
          </ul>
          <button class="action-now-btn active" id="donateNowBtn">
            Donate Now
          </button>
        </div>

        <!-- Request Info Section -->
        <div class="info-section" id="requestInfo">
          <h3>Blood Request Process</h3>
          <ol>
            <li>Fill out the request form with patient details</li>
            <li>Specify blood type and quantity needed</li>
            <li>Provide hospital information</li>
            <li>Submit your request for processing</li>
            <li>We'll match you with available donors</li>
          </ol>
          <button class="action-now-btn request-now-btn" id="requestNowBtn">
            Request Now
          </button>
        </div>
      </div>
    </div>

    <div class="modal" id="donorModal">
      <div class="modal-content">
        <span class="close-modal" id="closeDonorModal">&times;</span>
        <h2 class="modal-title">Blood Donor Registration</h2>
        <form id="donorForm" novalidate>
          <div class="form-group">
            <label for="donorName">Full Name*</label>
            <input type="text" id="donorName" required />
            <small class="error-msg" id="donorNameError"></small>
          </div>
          <div class="form-group">
            <label for="donorContact">Contact Number*</label>
            <input type="tel" id="donorContact" maxlength="11" required />
            <small class="error-msg" id="donorContactError"></small>
          </div>

          <div class="form-group">
            <label for="donorEmail">Email*</label>
            <input type="email" id="donorEmail" required />
            <small class="error-msg" id="donorEmailError"></small>
          </div>
          <button type="submit" class="submit-btn" disabled>
            Register as Donor
          </button>
        </form>
      </div>
    </div>

    <div class="modal" id="requestModal">
      <div class="modal-content">
        <span class="close-modal" id="closeRequestModal">&times;</span>
        <h2 class="modal-title">Blood Request Form</h2>
        <form id="requestForm">
          <div class="form-group">
            <label for="patientName">Patient Name*</label>
            <input type="text" id="patientName" required />
            <div id="patientNameError" class="error-message"></div>
          </div>
          <div class="form-group">
            <label for="requesterContact">Contact Number*</label>
            <input type="tel" id="requesterContact" maxlength="11" required />
            <div id="requesterContactError" class="error-message"></div>
          </div>
          <div class="form-group">
            <label for="requeserrEmail">Email*</label>
            <input type="email" id="requesterEmail" required />
            <div id="requesterEmailError" class="error-message"></div>
          </div>
          <div class="form-group">
            <label for="bloodTypeNeeded">Blood Type Needed*</label>
            <select id="bloodTypeNeeded" required>
              <option value="">Select blood type needed</option>
              <option value="A+">A+</option>
              <option value="A-">A-</option>
              <option value="B+">B+</option>
              <option value="B-">B-</option>
              <option value="AB+">AB+</option>
              <option value="AB-">AB-</option>
              <option value="O+">O+</option>
              <option value="O-">O-</option>
            </select>
            <div id="bloodTypeError" class="error-message"></div>
          </div>
          <div class="form-group">
            <label for="unitsNeeded">Units Needed*</label>
            <input type="number" id="unitsNeeded" min="1" required />
            <div id="unitsNeededError" class="error-message"></div>
          </div>
          <div class="form-group">
            <label for="urgency">Urgency Level*</label>
            <select id="urgency" required>
              <option value="">Select urgency level</option>
              <option value="low">Low (Can wait a few days)</option>
              <option value="moderate">
                Moderate (Needed within 24-48 hours)
              </option>
              <option value="high">High (Needed within 12 hours)</option>
              <option value="emergency">Emergency (Needed immediately)</option>
            </select>
            <div id="urgencyLevelError" class="error-message"></div>
          </div>
          <button type="submit" class="submit-btn" disabled>
            Submit Request
          </button>
        </form>
      </div>
    </div>

    <script src="userHomepage.js"></script>
  </body>
</html>
